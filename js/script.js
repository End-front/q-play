"use strict";function ibg(){for(var e=document.querySelectorAll(".ibg"),t=0;t<e.length;t++)e[t].querySelector(".ibg__img, img")&&(e[t].style.backgroundImage="url("+e[t].querySelector(".ibg__img, img").getAttribute("src")+")")}window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,16.666)},ibg(),document.addEventListener("DOMContentLoaded",function(){var i=document.querySelector(".header"),r=i&&i.querySelector(".header__menu"),o=i&&i.querySelector(".header__menu__outer"),c=r&&r.querySelector(".header__menu__list"),l=r&&r.querySelectorAll(".header__menu__sublist"),d=i&&i.querySelector(".header__button");d&&r&&function(){d.addEventListener("click",function(){i.classList.toggle("active-menu"),d.classList.toggle("active"),document.documentElement.classList.toggle("scroll-hidden"),o&&setTimeout(function(){o.classList.remove("header__menu__outer--lid")},300)});var e=function(){for(var e=r.offsetWidth/2-c.offsetWidth/2-15,t=0;t<l.length;t++){var n=l[t],i=n.closest("li");window.checkBrowser.supportsTouch?e+=c.offsetWidth:e+=c.offsetWidth-i.offsetWidth,n.style.maxWidth=e+"px"}},a=function(r,e){var t=r.querySelector(".header__menu__sublist"),o=r.children[0].offsetHeight,n=t&&t.offsetHeight,a=n-o;if(0==a)return r.style.height=o+"px";e&&(o=r.offsetHeight,n=r.children[0].offsetHeight,a=n-o);var s=null;requestAnimFrame(function e(t){null===s&&(s=t);var n=(t-s)/350;1<n&&(n=1);var i=Math.sin(n*Math.PI/2);r.style.height=o+a*i+"px",n<1&&requestAnimFrame(e)})},s=function(r,e){var t=r.querySelector(".header__menu__sublist"),o=r.offsetHeight,a=(e?r.children[0].offsetHeight:r.children[0].offsetHeight+t.offsetHeight)-o;if(0==a)return r.style.height=o+"px";var s=null;requestAnimFrame(function e(t){null===s&&(s=t);var n=(t-s)/350;1<n&&(n=1);var i=Math.sin(n*Math.PI/2);r.style.height=o+a*i+"px",n<1&&requestAnimFrame(e)})};e(),window.addEventListener("resize",function(){e()});for(var t=function(e){var n=l[e].closest("li");if(window.checkBrowser.supportsTouch){var i=function e(t){s(n),n.removeEventListener("click",e),n.querySelector("span").addEventListener("click",r),n.classList.add("active")},r=function e(t){s(n,!0),n.querySelector("span").removeEventListener("click",e),setTimeout(function(){n.addEventListener("click",i)},0),n.classList.remove("active")};n.addEventListener("click",i)}else{var o=function(e){a(n)};n.addEventListener("mouseover",o,{once:!0}),n.addEventListener("mouseout",function(e){var t=e.relatedTarget.closest(".header__menu__list-item");t&&t==n||(a(n,!0),n.addEventListener("mouseover",o,{once:!0}))})}},n=0;n<l.length;n++)t(n)}();var e=document.querySelectorAll(".btn-icon--phone");if(e&&o)for(var t=0;t<e.length;t++){e[t].addEventListener("click",function(){o.classList.add("header__menu__outer--lid"),i.classList.add("active-menu"),d.classList.add("active"),document.documentElement.classList.add("scroll-hidden")})}var n=document.querySelector("#courser"),a=n&&n.querySelector(".courser");if(n&&a&&!window.checkBrowser.supportsTouch&&!window.checkBrowser.isIE){var s=function(e){return e?{x:e.clientX-a.clientWidth/2,y:e.clientY-a.clientHeight/2}:{x:0,y:0}};!function e(t){requestAnimFrame(function(){a.style.transform="translate("+t.x+"px,"+t.y+"px)",e(s(window.dataForCourser))})}(s(window.dataForCourser)),document.documentElement.addEventListener("mouseover",function(){n.classList.add("visible")}),window.addEventListener("mousemove",function(e){window.dataForCourser=e}),document.documentElement.addEventListener("mouseout",function(){n.classList.remove("visible")})}var h=document.querySelectorAll(".grid-works");if(h)for(var u=function(e){var n=h[e],s=n.querySelector(".grid-works__wrapper"),c=s&&s.querySelectorAll(".grid-works__slide"),i=s&&s.querySelectorAll(".grid-works__item"),t=n.querySelector(".grid-works__nav"),r=t&&t.querySelector(".grid-works__nav__wrapper"),l=t&&t.querySelectorAll(".grid-works__nav__item");if(i&&!c){var o=function(){var e,t=Math.floor(s.clientWidth/400);e=1920<=window.innerWidth?s.clientWidth/t+"px":"none";for(var n=0;n<i.length;n++){i[n].style.maxWidth=e}};o(),window.addEventListener("resize",o)}if(c)for(var a=function(e){var t=c[e],i=t.classList.contains("grid-works__slide--big"),r=t.querySelectorAll(".grid-works__item"),n=function(){if(r){var e,t=Math.floor(s.clientWidth/400);i&&(t=Math.floor(s.clientWidth/585),console.log(t)),e=1920<=window.innerWidth?s.clientWidth/t+"px":"none";for(var n=0;n<r.length;n++){r[n].style.maxWidth=e}}};n(),window.addEventListener("resize",n)},d=0;d<c.length;d++)a(d);if(c&&l&&function(){for(var i,r,o=0,a=function(e){s.style.height=e.offsetHeight+"px"},e=function(e){var t=l[e-o],n=c[e];if(n&&t){if("all"==n.getAttribute("data-slide"))return o++,a(i=n),i.classList.add("active"),"continue";t.addEventListener("click",function(){for(var e=0;e<l.length;e++)l[e]!=this&&l[e].classList.remove("active");for(var t=0;t<c.length;t++)c[t]!=n&&c[t].classList.remove("active");n.classList.contains("active")?(n.classList.remove("active"),i&&i.classList.add("active"),a(r=i)):(n.classList.add("active"),a(r=n)),this.classList.toggle("active")})}},t=0;t<=l.length;t++)e(t);(r||i)&&(window.addEventListener("resize",function(){a(r||i)}),window.addEventListener("load",function(){a(r||i)})),n.classList.add("loaded-slider")}(),r&&l);if(n.classList.contains("grid-works--not-link-item")&&i)for(var u=0;u<i.length;u++){i[u].addEventListener("click",function(e){e.preventDefault()})}},f=0;f<h.length;f++)u(f);var v=document.querySelectorAll(".checkbox-input, .radio-input");if(v)for(var m=0;m<v.length;m++){var g=v[m],_=g.parentElement.querySelector(".checkbox-input__check, .radio-input__check");_||((_=document.createElement("div")).classList.add(g.getAttribute("type")+"-input__check"),g.parentElement.appendChild(_))}var w=document.querySelectorAll(".textarea--auto-height");if(w)for(var y=0;y<w.length;y++){var L=w[y],p=L.querySelector("textarea");p&&function(){var t=p.getAttribute("placeholder")||"",n=document.createElement("div");n.classList.add("textarea--auto-height__text"),n.innerText=t,L.appendChild(n),p.addEventListener("input",function(){var e=this.value;"\n"==e[e.length-1]&&(e+="1"),0==e.length&&(e=t),n.innerText=e})}()}var q=new Date,k=-1*q.getTimezoneOffset()-180,E=Math.floor(k/60),S=9+E;24<S&&(S-=24),S<0&&(S=24+S);var x=17+E;24<x&&(x-=24),x<0&&(x=24+x);var A=Math.floor((k-60*E)/5).toString();1==A.length&&(A="0"+A),A="00";var b=document.querySelectorAll(".info-company__time__not-work"),W=!1;if((q.getHours()>=x||q.getHours()<S)&&(W=!0),b)for(var F=0;F<b.length;F++){var M=b[F];if(M.innerText="с "+S+":"+A+"-"+x+":"+A,W){var H=M.closest(".info-company__time");H&&H.classList.add("info-company__time--not-work")}}for(var T=document.querySelectorAll(".section--back-gradient"),C=function(e){var t=T[e];(R=document.createElement("canvas")).width="2",R.height="2",t.appendChild(R),B=R.getContext("2d");var n=function(e,t){this.x=e,this.y=t,this.hue=200-Math.floor(180*Math.random());var n=.5<Math.random()?-1:1;this.velocity=.01*(30*Math.random()+20)*n};n.prototype.update=function(){this.hue+=this.velocity,(200<=this.hue||this.hue<=20)&&(this.velocity*=-1)},n.prototype.render=function(e){var t=Math.round(this.hue);e.fillStyle="hsl("+t+", 100%, 50% )",e.fillRect(this.x,this.y,1,1)},I=[new n(0,0),new n(1,0),new n(0,1),new n(1,1)];!function e(){I.forEach(function(e){e.update(),e.render(B)}),requestAnimationFrame(e)}(),t.classList.add("loaded")},z=0;z<T.length;z++){var R,B,I;C(z)}});